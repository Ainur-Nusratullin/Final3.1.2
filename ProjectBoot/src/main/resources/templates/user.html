<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org" lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>User Details</title>-->
<!--    <style>-->
<!--        body {-->
<!--            font-family: 'Arial', sans-serif;-->
<!--            background-color: #f4f4f4;-->
<!--            min-height: 100vh;-->
<!--            margin: 0;-->
<!--            padding-top: 20px; /* Add padding at the top */-->
<!--        }-->

<!--        h2 {-->
<!--            text-align: center;-->
<!--            color: #333;-->
<!--            margin-bottom: 30px;-->
<!--        }-->

<!--        .table-container {-->
<!--            background: #fff;-->
<!--            padding: 20px;-->
<!--            border-radius: 8px;-->
<!--            box-shadow: 0 4px 8px rgba(0,0,0,0.1);-->
<!--            margin-bottom: 20px; /* Add some space below the table */-->
<!--        }-->
<!--        table {-->
<!--            border-collapse: collapse;-->
<!--            width: 100%; /* Table width within the container */-->
<!--        }-->


<!--        th, td {-->
<!--            border: 1px solid #ddd;-->
<!--            padding: 10px; /* Increase padding */-->
<!--            text-align: left;-->
<!--        }-->
<!--        th {-->
<!--            background-color: #f2f2f2; /* Light gray background for header cells */-->
<!--            font-weight: bold; /* Make the header bold */-->
<!--        }-->
<!--        .button-container {-->
<!--            display: flex;-->
<!--            gap: 5px; /* Add some space between buttons */-->
<!--        }-->

<!--        .button-container input[type="button"] {-->
<!--            background-color: #007bff;-->
<!--            color: white;-->
<!--            padding: 5px 10px; /* Smaller button sizes */-->
<!--            border: none;-->
<!--            border-radius: 4px;-->
<!--            cursor: pointer;-->
<!--            font-size: 14px; /* Smaller font */-->
<!--        }-->

<!--        .button-container input[type="button"]:hover {-->
<!--            background-color: #0056b3; /* Darken color on hover */-->
<!--        }-->
<!--        input[type="button"] {-->
<!--            background-color: #007bff;-->
<!--            color: white;-->
<!--            padding: 10px 20px;-->
<!--            border: none;-->
<!--            border-radius: 4px;-->
<!--            cursor: pointer;-->
<!--            font-size: 16px;-->
<!--            margin-top: 20px; /* Space above button */-->
<!--        }-->
<!--        input[type="button"]:hover {-->
<!--            background-color: #0056b3; /* Darken color on hover */-->
<!--        }-->

<!--        .logout-container {-->
<!--            display: flex;-->
<!--            justify-content: flex-end; /* Align to the right */-->
<!--            padding: 10px;-->
<!--        }-->

<!--        .logout-button {-->
<!--            background-color: #ffa500; /* Orange color */-->
<!--            color: white;-->
<!--            padding: 8px 16px;-->
<!--            border: none;-->
<!--            border-radius: 4px;-->
<!--            cursor: pointer;-->
<!--            font-size: 14px;-->
<!--        }-->

<!--        .logout-button:hover {-->
<!--            background-color: #ff8c00; /* Darker orange on hover */-->
<!--        }-->

<!--    </style>-->
<!--</head>-->
<!--<body>-->

<!--<div class="logout-container">-->
<!--    <form th:action="@{/login}" method="post">  &lt;!&ndash; Changed to /logout &ndash;&gt;-->
<!--        <button type="submit" class="logout-button">Выйти</button>-->
<!--    </form>-->
<!--</div>-->

<!--<div class="table-container">-->
<!--    <h2>User Details</h2>-->
<!--    <table class="table">-->
<!--        <thead>-->
<!--        <tr>-->
<!--            <th>ID</th>-->
<!--            <th>Name</th>-->
<!--            <th>Surname</th>-->
<!--            <th>Age</th>-->
<!--            <th>Email</th>-->
<!--            <th>Role</th>-->
<!--            <th>Operations</th>-->
<!--        </tr>-->
<!--        </thead>-->
<!--        <tbody>-->
<!--        <tr th:each="allUser : ${allUser}">-->
<!--            <td th:text="${allUser.id}"></td>-->
<!--            <td th:text="${allUser.name}"></td>-->
<!--            <td th:text="${allUser.surname}"></td>-->
<!--            <td th:text="${allUser.age}"></td>-->
<!--            <td th:text="${allUser.email}"></td>-->
<!--            <td th:text="${allUser.roles}"></td>-->
<!--            <td>-->
<!--                <div class="button-container">-->
<!--                    <input type="button" value="Update" th:onclick="'window.location.href = \'' + @{/admin/editUser(id=${allUser.id})} + '\''"/>-->
<!--                    <input type="button" value="Delete" th:onclick="'window.location.href = \'' + @{/admin/deleteUser(id=${allUser.id})} + '\''"/>-->
<!--                </div>-->
<!--            </td>-->
<!--        </tr>-->
<!--        </tbody>-->
<!--    </table>-->
<!--</div>-->


<!--<input type="button" value="Add New User" onclick="window.location.href = '/admin/addNewUser'"/>-->

<!--</body>-->
<!--</html>-->







<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Admin Panel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .navbar-custom { background-color: black; color: white; padding: 10px; }
        .sidebar { background-color: #f8f9fa; height: 100vh; width: 16.66%; padding: 20px; }
        .nav-tabs .nav-link { border: none; color: black; }
        .nav-tabs .nav-link.active { color: gray; }
        .table-header { color: black; padding: 10px; font-size: 36px; }
        .table-header1 { color: black; padding: 10px; font-size: 24px; margin-left: 0; }
        .btn-edit { background-color: #17a2b8; color: white; border-radius: 5px; padding: 5px 10px; border: none; }
        .btn-delete { background-color: #dc3545; color: white; border-radius: 5px; padding: 5px 10px; border: none; }
        .form-container { display: none; margin-top: 20px; }
        .list-group-item.active { background-color: lightblue; color: navy; }
    </style>
</head>
<body>
<nav class="navbar navbar-custom justify-content-start">
    <div class="d-flex">
        <strong><span th:if="${currentUser != null}" th:text="${currentUser.email}"></span></strong>
        <span th:if="${currentUser != null}"> with roles: </span>
        <span th:if="${currentUser != null}">
            <span th:each="role, iterStat : ${currentUser.roles}">
                <span th:text="${role.name}"></span>
                <span th:unless="${iterStat.last}">, </span>
            </span>
        </span>
    </div>
    <a class="logout-link ms-auto" href="/logout" style="color: white;">Logout</a>
</nav>

<div class="d-flex">
    <div class="sidebar p-0">
        <span class="d-block p-2 text-bg-primary flex-fill">Admin</span>
        <a href="/user/" class="d-block p-2 text-bg-light flex-fill">User</a>
    </div>

    <div class="flex-grow-1 p-4">
        <h1 class="table-header">Admin Panel</h1>
        <ul class="nav nav-tabs">
            <li class="nav-item"><a class="nav-link active border" href="#" id="users-tab">Users Table</a></li>
            <li class="nav-item"><a class="nav-link active" href="#" id="new-user-tab">New User</a></li>
        </ul>

        <div id="users-table" class="border">
            <div class="table-header1 border-bottom bg-light">All users</div>
            <div class="p-4">
                <table class="table table-striped border-top">
                    <thead>
                    <tr><th>ID</th><th>Name</th><th>Surname</th><th>Age</th><th>Email</th><th>Role</th><th>Edit</th><th>Delete</th></tr>
                    </thead>
                    <tbody>
                    <tr th:each="user : ${allUser}">
                        <td th:text="${user.id}"></td>
                        <td th:text="${user.name}"></td>
                        <td th:text="${user.surname}"></td>
                        <td th:text="${user.age}"></td>
                        <td th:text="${user.email}"></td>
                        <td>
                                <span th:each="role, iterStat : ${user.roles}">
                                    <span th:text="${role.name}"></span>
                                    <span th:unless="${iterStat.last}">, </span>
                                </span>
                        </td>
                        <td><a href="#" th:href="@{/admin/editUser(id=${user.id})}" class="btn-edit">Edit</a></td>
                        <td><a href="#" th:href="@{/admin/deleteUser(id=${user.id})}" class="btn-delete">Delete</a></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div id="new-user-form" class="form-container border m-0">
            <div class="container-fluid mt-4">
                <h2 class="table-header1 ms-auto">Add new user</h2>
                <div class="col-md-4 offset-md-0 mx-auto">
                    <form action="/admin/saveUser" method="post" onsubmit="return prepareForm()">
                        <div class="mb-3 text-center"><label for="name" class="form-label fw-bold">Name</label><input type="text" class="form-control" id="name" name="name" required/></div>
                        <div class="mb-3 text-center"><label for="surname" class="form-label fw-bold">Surname</label><input type="text" class="form-control" id="surname" name="surname" required/></div>
                        <div class="mb-3 text-center"><label for="age" class="form-label fw-bold">Age</label><input type="number" class="form-control" id="age" name="age" required/></div>
                        <div class="mb-3 text-center"><label for="email" class="form-label fw-bold">Email</label><input type="email" class="form-control" id="email" name="email" required/></div>
                        <div class="mb-3 text-center"><label for="password" class="form-label fw-bold">Password</label><input type="password" class="form-control" id="password" name="password" required/></div>
                        <div class="mb-3 text-center">
                            <span class="fw-bold">Role</span>
                            <ul class="list-group list-group-flush" id="role-list">
                                <li class="list-group-item" th:each="role : ${allRoles}" th:id="'role-' + ${role.id}" th:text="${role.name}" th:attr="data-role-id=${role.id}" onclick="toggleRoleSelection(this);"></li>
                            </ul>
                            <!-- Скрытые поля для выбранных ролей -->
                            <div id="selected-roles-container"></div>
                        </div>
                        <div class="mb-3 text-center"><button type="submit" class="btn btn-primary text-bg-success">Add new user</button></div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Переключение между таблицей и формой
    document.getElementById('users-tab').addEventListener('click', function() {
        document.getElementById('users-table').style.display = 'block';
        document.getElementById('new-user-form').style.display = 'none';
        this.classList.add('active', 'border');
        document.getElementById('new-user-tab').classList.remove('active', 'border');
    });

    document.getElementById('new-user-tab').addEventListener('click', function() {
        document.getElementById('users-table').style.display = 'none';
        document.getElementById('new-user-form').style.display = 'block';
        this.classList.add('active', 'border');
        document.getElementById('users-tab').classList.remove('active', 'border');
    });

    // Функция для выбора ролей
    function toggleRoleSelection(element) {
        element.classList.toggle('active');
    }

    // Функция для подготовки формы перед отправкой
    function prepareForm() {
        const selectedRolesContainer = document.getElementById('selected-roles-container');
        selectedRolesContainer.innerHTML = ''; // Очищаем контейнер

        // Собираем выбранные роли
        document.querySelectorAll('#role-list .list-group-item.active').forEach(item => {
            const roleId = item.dataset.roleId;
            const hiddenInput = document.createElement('input');
            hiddenInput.type = 'hidden';
            hiddenInput.name = 'roles';
            hiddenInput.value = roleId;
            selectedRolesContainer.appendChild(hiddenInput);
        });

        return true; // Продолжаем отправку формы
    }
</script>
</body>
</html>













<!--<!DOCTYPE html>-->
<!--<html lang="ru" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">-->
<!--    <title>Admin Panel</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        .navbar-custom { background-color: black; color: white; padding: 10px; }-->
<!--        .sidebar { background-color: #f8f9fa; height: 100vh; width: 16.66%; padding: 20px; }-->
<!--        .nav-tabs .nav-link { border: none; color: black; }-->
<!--        .nav-tabs .nav-link.active { color: gray; }-->
<!--        .table-header { color: black; padding: 10px; font-size: 36px; }-->
<!--        .table-header1 { color: black; padding: 10px; font-size: 24px; margin-left: 0; }-->
<!--        .btn-edit { background-color: #17a2b8; color: white; border-radius: 5px; padding: 5px 10px; border: none; }-->
<!--        .btn-delete { background-color: #dc3545; color: white; border-radius: 5px; padding: 5px 10px; border: none; }-->
<!--        .form-container { display: none; margin-top: 20px; }-->
<!--        .list-group-item.active { background-color: lightblue; color: navy; }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<nav class="navbar navbar-custom justify-content-start">-->
<!--    <div class="d-flex">-->
<!--        <strong><span th:if="${currentUser != null}" th:text="${currentUser.email}"></span></strong>-->
<!--        <span th:if="${currentUser != null}"> with roles: </span>-->
<!--        <span th:if="${currentUser != null}">-->
<!--            <span th:each="role, iterStat : ${currentUser.roles}">-->
<!--                <span th:text="${role.name}"></span>-->
<!--                <span th:unless="${iterStat.last}">, </span>-->
<!--            </span>-->
<!--        </span>-->
<!--    </div>-->
<!--    <a class="logout-link ms-auto" href="/logout" style="color: white;">Logout</a>-->
<!--</nav>-->

<!--<div class="d-flex">-->
<!--    <div class="sidebar p-0">-->
<!--        <span class="d-block p-2 text-bg-primary flex-fill">Admin</span>-->
<!--        <a href="/user" class="d-block p-2 text-bg-light flex-fill">User</a>-->
<!--    </div>-->

<!--    <div class="flex-grow-1 p-4">-->
<!--        <h1 class="table-header">Admin Panel</h1>-->
<!--        <ul class="nav nav-tabs">-->
<!--            <li class="nav-item"><a class="nav-link active border" href="#" id="users-tab">Users Table</a></li>-->
<!--            <li class="nav-item"><a class="nav-link active" href="#" id="new-user-tab">New User</a></li>-->
<!--        </ul>-->

<!--        <div id="users-table" class="border">-->
<!--            <div class="table-header1 border-bottom bg-light">All users</div>-->
<!--            <div class="p-4">-->
<!--                <table class="table table-striped border-top">-->
<!--                    <thead>-->
<!--                    <tr><th>ID</th><th>Name</th><th>Surname</th><th>Age</th><th>Email</th><th>Role</th><th>Edit</th><th>Delete</th></tr>-->
<!--                    </thead>-->
<!--                    <tbody>-->
<!--                    <tr th:each="user : ${allUser}">-->
<!--                        <td th:text="${user.id}"></td>-->
<!--                        <td th:text="${user.name}"></td>-->
<!--                        <td th:text="${user.surname}"></td>-->
<!--                        <td th:text="${user.age}"></td>-->
<!--                        <td th:text="${user.email}"></td>-->
<!--                        <td>-->
<!--                                <span th:each="role, iterStat : ${user.roles}">-->
<!--                                    <span th:text="${role.name}"></span>-->
<!--                                    <span th:unless="${iterStat.last}">, </span>-->
<!--                                </span>-->
<!--                        </td>-->
<!--                        <td><a href="#" th:href="@{/admin/editUser(id=${user.id})}" class="btn-edit">Edit</a></td>-->
<!--                        <td><a href="#" th:href="@{/admin/deleteUser(id=${user.id})}" class="btn-delete">Delete</a></td>-->
<!--                    </tr>-->
<!--                    </tbody>-->
<!--                </table>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div id="new-user-form" class="form-container border m-0">-->
<!--            <div class="container-fluid mt-4">-->
<!--                <h2 class="table-header1 ms-auto">Add new user</h2>-->
<!--                <div class="col-md-4 offset-md-0 mx-auto">-->
<!--                    <form action="/admin/saveUser" method="post" onsubmit="return prepareForm()">-->
<!--                        <div class="mb-3 text-center"><label for="name" class="form-label fw-bold">Name</label><input type="text" class="form-control" id="name" name="name" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="surname" class="form-label fw-bold">Surname</label><input type="text" class="form-control" id="surname" name="surname" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="age" class="form-label fw-bold">Age</label><input type="number" class="form-control" id="age" name="age" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="email" class="form-label fw-bold">Email</label><input type="email" class="form-control" id="email" name="email" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="password" class="form-label fw-bold">Password</label><input type="password" class="form-control" id="password" name="password" required/></div>-->
<!--                        <div class="mb-3 text-center">-->
<!--                            <span class="fw-bold">Role</span>-->
<!--                            <ul class="list-group list-group-flush" id="role-list">-->
<!--                                <li class="list-group-item" th:each="role : ${allRoles}" th:id="'role-' + ${role.id}" th:text="${role.name}" th:attr="data-role-id=${role.id}" onclick="toggleRoleSelection(this);"></li>-->
<!--                            </ul>-->
<!--                            &lt;!&ndash; Скрытое поле для выбранных ролей &ndash;&gt;-->
<!--                            <input type="hidden" name="roles" id="selectedRoles" />-->
<!--                        </div>-->
<!--                        <div class="mb-3 text-center"><button type="submit" class="btn btn-primary text-bg-success">Add new user</button></div>-->
<!--                    </form>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>-->
<!--<script>-->
<!--    // Переключение между таблицей и формой-->
<!--    document.getElementById('users-tab').addEventListener('click', function() {-->
<!--        document.getElementById('users-table').style.display = 'block';-->
<!--        document.getElementById('new-user-form').style.display = 'none';-->
<!--        this.classList.add('active', 'border');-->
<!--        document.getElementById('new-user-tab').classList.remove('active', 'border');-->
<!--    });-->

<!--    document.getElementById('new-user-tab').addEventListener('click', function() {-->
<!--        document.getElementById('users-table').style.display = 'none';-->
<!--        document.getElementById('new-user-form').style.display = 'block';-->
<!--        this.classList.add('active', 'border');-->
<!--        document.getElementById('users-tab').classList.remove('active', 'border');-->
<!--    });-->

<!--    // Функция для выбора ролей-->
<!--    function toggleRoleSelection(element) {-->
<!--        element.classList.toggle('active');-->
<!--    }-->

<!--    // Функция для подготовки формы перед отправкой-->
<!--    function prepareForm() {-->
<!--        const selectedRoles = [];-->
<!--        document.querySelectorAll('#role-list .list-group-item.active').forEach(item => {-->
<!--            selectedRoles.push(item.dataset.roleId);-->
<!--        });-->
<!--        document.getElementById('selectedRoles').value = selectedRoles.join(',');-->
<!--        return true; // Продолжаем отправку формы-->
<!--    }-->
<!--</script>-->
<!--</body>-->
<!--</html>-->









<!--<!DOCTYPE html>-->
<!--<html lang="ru" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">-->
<!--    <title>Admin Panel</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        .navbar-custom { background-color: black; color: white; padding: 10px; }-->
<!--        .sidebar { background-color: #f8f9fa; height: 100vh; width: 16.66%; padding: 20px; }-->
<!--        .nav-tabs .nav-link { border: none; color: black; }-->
<!--        .nav-tabs .nav-link.active { color: gray; }-->
<!--        .table-header { color: black; padding: 10px; font-size: 36px; }-->
<!--        .table-header1 { color: black; padding: 10px; font-size: 24px; margin-left: 0; }-->
<!--        .btn-edit { background-color: #17a2b8; color: white; border-radius: 5px; padding: 5px 10px; border: none; }-->
<!--        .btn-delete { background-color: #dc3545; color: white; border-radius: 5px; padding: 5px 10px; border: none; }-->
<!--        .form-container { display: none; margin-top: 20px; }-->
<!--        .list-group-item.active { background-color: lightblue; color: navy; }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<nav class="navbar navbar-custom justify-content-start">-->
<!--    <div class="d-flex">-->
<!--        <strong><span th:if="${currentUser != null}" th:text="${currentUser.email}"></span></strong>-->
<!--        <span th:if="${currentUser != null}"> with roles: </span>-->
<!--        <span th:if="${currentUser != null}">-->
<!--            <span th:each="role, iterStat : ${currentUser.roles}">-->
<!--                <span th:text="${role.name}"></span>-->
<!--                <span th:unless="${iterStat.last}">, </span>-->
<!--            </span>-->
<!--        </span>-->
<!--    </div>-->
<!--    <a class="logout-link ms-auto" href="/logout" style="color: white;">Logout</a>-->
<!--</nav>-->

<!--<div class="d-flex">-->
<!--    <div class="sidebar p-0">-->
<!--        <span class="d-block p-2 text-bg-primary flex-fill">Admin</span>-->
<!--        <a href="/user" class="d-block p-2 text-bg-light flex-fill">User</a>-->
<!--    </div>-->

<!--    <div class="flex-grow-1 p-4">-->
<!--        <h1 class="table-header">Admin Panel</h1>-->
<!--        <ul class="nav nav-tabs">-->
<!--            <li class="nav-item"><a class="nav-link active border" href="#" id="users-tab">Users Table</a></li>-->
<!--            <li class="nav-item"><a class="nav-link active" href="#" id="new-user-tab">New User</a></li>-->
<!--        </ul>-->

<!--        <div id="users-table" class="border">-->
<!--            <div class="table-header1 border-bottom bg-light">All users</div>-->
<!--            <div class="p-4">-->
<!--                <table class="table table-striped border-top">-->
<!--                    <thead>-->
<!--                    <tr><th>ID</th><th>Name</th><th>Surname</th><th>Age</th><th>Email</th><th>Role</th><th>Edit</th><th>Delete</th></tr>-->
<!--                    </thead>-->
<!--                    <tbody>-->
<!--                    <tr th:each="user : ${allUser}">-->
<!--                        <td th:text="${user.id}"></td>-->
<!--                        <td th:text="${user.name}"></td>-->
<!--                        <td th:text="${user.surname}"></td>-->
<!--                        <td th:text="${user.age}"></td>-->
<!--                        <td th:text="${user.email}"></td>-->
<!--                        <td>-->
<!--                                <span th:each="role, iterStat : ${user.roles}">-->
<!--                                    <span th:text="${role.name}"></span>-->
<!--                                    <span th:unless="${iterStat.last}">, </span>-->
<!--                                </span>-->
<!--                        </td>-->
<!--                        <td><a href="#" th:href="@{/admin/editUser(id=${user.id})}" class="btn-edit">Edit</a></td>-->
<!--                        <td><a href="#" th:href="@{/admin/deleteUser(id=${user.id})}" class="btn-delete">Delete</a></td>-->
<!--                    </tr>-->
<!--                    </tbody>-->
<!--                </table>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div id="new-user-form" class="form-container border m-0">-->
<!--            <div class="container-fluid mt-4">-->
<!--                <h2 class="table-header1 ms-auto">Add new user</h2>-->
<!--                <div class="col-md-4 offset-md-0 mx-auto">-->
<!--                    <form action="/admin/saveUser" method="post">-->
<!--                        <div class="mb-3 text-center"><label for="name" class="form-label fw-bold">Name</label><input type="text" class="form-control" id="name" name="name" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="surname" class="form-label fw-bold">Surname</label><input type="text" class="form-control" id="surname" name="surname" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="age" class="form-label fw-bold">Age</label><input type="number" class="form-control" id="age" name="age" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="email" class="form-label fw-bold">Email</label><input type="email" class="form-control" id="email" name="email" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="password" class="form-label fw-bold">Password</label><input type="password" class="form-control" id="password" name="password" required/></div>-->
<!--                        <div class="mb-3 text-center">-->
<!--                            <span class="fw-bold">Role</span>-->
<!--                            <ul class="list-group list-group-flush" id="role-list">-->
<!--                                <li class="list-group-item" th:each="role : ${allRoles}" th:id="'role-' + ${role.id}" th:text="${role.name}" th:attr="data-role-id=${role.id}" onclick="toggleRoleSelection(this);"></li>-->
<!--                            </ul>-->
<!--                            &lt;!&ndash; Скрытое поле для выбранных ролей &ndash;&gt;-->
<!--                            <input type="hidden" name="roles" id="selectedRoles" />-->
<!--                        </div>-->
<!--                        <div class="mb-3 text-center"><button type="submit" class="btn btn-primary text-bg-success">Add new user</button></div>-->
<!--                    </form>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>-->
<!--<script>-->
<!--    // Переключение между таблицей и формой-->
<!--    document.getElementById('users-tab').addEventListener('click', function() {-->
<!--        document.getElementById('users-table').style.display = 'block';-->
<!--        document.getElementById('new-user-form').style.display = 'none';-->
<!--        this.classList.add('active', 'border');-->
<!--        document.getElementById('new-user-tab').classList.remove('active', 'border');-->
<!--    });-->

<!--    document.getElementById('new-user-tab').addEventListener('click', function() {-->
<!--        document.getElementById('users-table').style.display = 'none';-->
<!--        document.getElementById('new-user-form').style.display = 'block';-->
<!--        this.classList.add('active', 'border');-->
<!--        document.getElementById('users-tab').classList.remove('active', 'border');-->
<!--    });-->

<!--    // Функция для выбора ролей-->
<!--    function toggleRoleSelection(element) {-->
<!--        element.classList.toggle('active');-->
<!--        updateSelectedRoles();-->
<!--    }-->

<!--    // Функция для обновления скрытого поля с выбранными ролями-->
<!--    function updateSelectedRoles() {-->
<!--        const selectedRoles = [];-->
<!--        document.querySelectorAll('#role-list .list-group-item.active').forEach(item => {-->
<!--            selectedRoles.push(item.dataset.roleId);-->
<!--        });-->
<!--        document.getElementById('selectedRoles').value = selectedRoles.join(',');-->
<!--    }-->

<!--    // Обработчик отправки формы-->
<!--    document.querySelector('form').addEventListener('submit', function(event) {-->
<!--        updateSelectedRoles(); // Обновляем выбранные роли перед отправкой-->
<!--    });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->

















<!--<!DOCTYPE html>-->
<!--<html lang="ru" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">-->
<!--    <title>Admin Panel</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        .navbar-custom { background-color: black; color: white; padding: 10px; }-->
<!--        .sidebar { background-color: #f8f9fa; height: 100vh; width: 16.66%; padding: 20px; }-->
<!--        .nav-tabs .nav-link { border: none; color: black; }-->
<!--        .nav-tabs .nav-link.active { color: gray; }-->
<!--        .table-header { color: black; padding: 10px; font-size: 36px; }-->
<!--        .table-header1 { color: black; padding: 10px; font-size: 24px; margin-left: 0; }-->
<!--        .btn-edit { background-color: #17a2b8; color: white; border-radius: 5px; padding: 5px 10px; border: none; }-->
<!--        .btn-delete { background-color: #dc3545; color: white; border-radius: 5px; padding: 5px 10px; border: none; }-->
<!--        .form-container { display: none; margin-top: 20px; }-->
<!--        .list-group-item.active { background-color: lightblue; color: navy; }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<nav class="navbar navbar-custom justify-content-start">-->
<!--    <div class="d-flex">-->
<!--        <strong><span th:if="${currentUser != null}" th:text="${currentUser.email}"></span></strong>-->
<!--        <span th:if="${currentUser != null}"> with roles: </span>-->
<!--        <span th:if="${currentUser != null}">-->
<!--            <span th:each="role, iterStat : ${currentUser.roles}">-->
<!--                <span th:text="${role.name}"></span>-->
<!--                <span th:unless="${iterStat.last}">, </span>-->
<!--            </span>-->
<!--        </span>-->
<!--    </div>-->
<!--    <a class="logout-link ms-auto" href="/logout" style="color: white;">Logout</a>-->
<!--</nav>-->

<!--<div class="d-flex">-->
<!--    <div class="sidebar p-0">-->
<!--        <span class="d-block p-2 text-bg-primary flex-fill">Admin</span>-->
<!--        <a href="/user" class="d-block p-2 text-bg-light flex-fill">User</a>-->
<!--    </div>-->

<!--    <div class="flex-grow-1 p-4">-->
<!--        <h1 class="table-header">Admin Panel</h1>-->
<!--        <ul class="nav nav-tabs">-->
<!--            <li class="nav-item"><a class="nav-link active border" href="#" id="users-tab">Users Table</a></li>-->
<!--            <li class="nav-item"><a class="nav-link active" href="#" id="new-user-tab">New User</a></li>-->
<!--        </ul>-->

<!--        <div id="users-table" class="border">-->
<!--            <div class="table-header1 border-bottom bg-light">All users</div>-->
<!--            <div class="p-4">-->
<!--                <table class="table table-striped border-top">-->
<!--                    <thead>-->
<!--                    <tr><th>ID</th><th>Name</th><th>Surname</th><th>Age</th><th>Email</th><th>Role</th><th>Edit</th><th>Delete</th></tr>-->
<!--                    </thead>-->
<!--                    <tbody>-->
<!--                    <tr th:each="user : ${allUser}">-->
<!--                        <td th:text="${user.id}"></td>-->
<!--                        <td th:text="${user.name}"></td>-->
<!--                        <td th:text="${user.surname}"></td>-->
<!--                        <td th:text="${user.age}"></td>-->
<!--                        <td th:text="${user.email}"></td>-->
<!--                        <td>-->
<!--                                <span th:each="role, iterStat : ${user.roles}">-->
<!--                                    <span th:text="${role.name}"></span>-->
<!--                                    <span th:unless="${iterStat.last}">, </span>-->
<!--                                </span>-->
<!--                        </td>-->
<!--                        <td><a href="#" th:href="@{/admin/editUser(id=${user.id})}" class="btn-edit">Edit</a></td>-->
<!--                        <td><a href="#" th:href="@{/admin/deleteUser(id=${user.id})}" class="btn-delete">Delete</a></td>-->
<!--                    </tr>-->
<!--                    </tbody>-->
<!--                </table>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div id="new-user-form" class="form-container border m-0">-->
<!--            <div class="container-fluid mt-4">-->
<!--                <h2 class="table-header1 ms-auto">Add new user</h2>-->
<!--                <div class="col-md-4 offset-md-0 mx-auto">-->
<!--                    <form action="/admin/saveUser" method="post">-->
<!--                        <div class="mb-3 text-center"><label for="name" class="form-label fw-bold">Name</label><input type="text" class="form-control" id="name" name="name" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="surname" class="form-label fw-bold">Surname</label><input type="text" class="form-control" id="surname" name="surname" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="age" class="form-label fw-bold">Age</label><input type="number" class="form-control" id="age" name="age" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="email" class="form-label fw-bold">Email</label><input type="email" class="form-control" id="email" name="email" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="password" class="form-label fw-bold">Password</label><input type="password" class="form-control" id="password" name="password" required/></div>-->
<!--                        <div class="mb-3 text-center">-->
<!--                            <span class="fw-bold">Role</span>-->
<!--                            <ul class="list-group list-group-flush" id="role-list">-->
<!--                                <li class="list-group-item" th:each="role : ${allRoles}" th:id="'role-' + ${role.id}" th:text="${role.name}" th:attr="data-role-id=${role.id}" onclick="toggleRoleSelection(this);"></li>-->
<!--                            </ul>-->
<!--                            <input type="hidden" name="roles" id="selectedRoles" />-->
<!--                        </div>-->
<!--                        <div class="mb-3 text-center"><button type="submit" class="btn btn-primary text-bg-success">Add new user</button></div>-->
<!--                    </form>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>-->
<!--<script>-->
<!--    document.getElementById('users-tab').addEventListener('click', function() {-->
<!--        document.getElementById('users-table').style.display = 'block';-->
<!--        document.getElementById('new-user-form').style.display = 'none';-->
<!--        this.classList.add('active', 'border');-->
<!--        document.getElementById('new-user-tab').classList.remove('active', 'border');-->
<!--    });-->

<!--    document.getElementById('new-user-tab').addEventListener('click', function() {-->
<!--        document.getElementById('users-table').style.display = 'none';-->
<!--        document.getElementById('new-user-form').style.display = 'block';-->
<!--        this.classList.add('active', 'border');-->
<!--        document.getElementById('users-tab').classList.remove('active', 'border');-->
<!--    });-->

<!--    // Функция для выбора ролей-->
<!--    function toggleRoleSelection(element) {-->
<!--        element.classList.toggle('active');-->
<!--        updateSelectedRoles();-->
<!--    }-->

<!--    // Функция для обновления скрытого поля с выбранными ролями-->
<!--    function updateSelectedRoles() {-->
<!--        const selectedRoles = [];-->
<!--        document.querySelectorAll('#role-list .list-group-item.active').forEach(item => {-->
<!--            selectedRoles.push(item.dataset.roleId);-->
<!--        });-->
<!--        document.getElementById('selectedRoles').value = selectedRoles.join(',');-->
<!--    }-->
<!--</script>-->
<!--</body>-->
<!--</html>-->












<!--<!DOCTYPE html>-->
<!--<html lang="ru" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">-->
<!--    <title>Admin Panel</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        .navbar-custom { background-color: black; color: white; padding: 10px; }-->
<!--        .sidebar { background-color: #f8f9fa; height: 100vh; width: 16.66%; padding: 20px; }-->
<!--        .nav-tabs .nav-link { border: none; color: black; }-->
<!--        .nav-tabs .nav-link.active { color: gray; }-->
<!--        .table-header { color: black; padding: 10px; font-size: 36px; }-->
<!--        .table-header1 { color: black; padding: 10px; font-size: 24px; margin-left: 0; }-->
<!--        .btn-edit { background-color: #17a2b8; color: white; border-radius: 5px; padding: 5px 10px; border: none; }-->
<!--        .btn-delete { background-color: #dc3545; color: white; border-radius: 5px; padding: 5px 10px; border: none; }-->
<!--        .form-container { display: none; margin-top: 20px; }-->
<!--        .list-group-item.active { background-color: lightblue; color: navy; }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<nav class="navbar navbar-custom justify-content-start">-->
<!--    <div class="d-flex">-->
<!--        <strong><span th:if="${currentUser != null}" th:text="${currentUser.email}"></span></strong>-->
<!--        <span th:if="${currentUser != null}"> with roles: </span>-->
<!--        <span th:if="${currentUser != null}">-->
<!--            <span th:each="role, iterStat : ${currentUser.roles}">-->
<!--                <span th:text="${role.name}"></span>-->
<!--                <span th:unless="${iterStat.last}">, </span>-->
<!--            </span>-->
<!--        </span>-->
<!--    </div>-->
<!--    <a class="logout-link ms-auto" href="/logout" style="color: white;">Logout</a>-->
<!--</nav>-->

<!--<div class="d-flex">-->
<!--    <div class="sidebar p-0">-->
<!--        <span class="d-block p-2 text-bg-primary flex-fill">Admin</span>-->
<!--        <a href="/user" class="d-block p-2 text-bg-light flex-fill">User</a>-->
<!--    </div>-->

<!--    <div class="flex-grow-1 p-4">-->
<!--        <h1 class="table-header">Admin Panel</h1>-->
<!--        <ul class="nav nav-tabs">-->
<!--            <li class="nav-item"><a class="nav-link active border" href="#" id="users-tab">Users Table</a></li>-->
<!--            <li class="nav-item"><a class="nav-link active" href="#" id="new-user-tab">New User</a></li>-->
<!--        </ul>-->

<!--        <div id="users-table" class="border">-->
<!--            <div class="table-header1 border-bottom bg-light">All users</div>-->
<!--            <div class="p-4">-->
<!--                <table class="table table-striped border-top">-->
<!--                    <thead>-->
<!--                    <tr><th>ID</th><th>Name</th><th>Surname</th><th>Age</th><th>Email</th><th>Role</th><th>Edit</th><th>Delete</th></tr>-->
<!--                    </thead>-->
<!--                    <tbody>-->
<!--                    <tr th:each="user : ${allUser}">-->
<!--                        <td th:text="${user.id}"></td>-->
<!--                        <td th:text="${user.name}"></td>-->
<!--                        <td th:text="${user.surname}"></td>-->
<!--                        <td th:text="${user.age}"></td>-->
<!--                        <td th:text="${user.email}"></td>-->
<!--                        <td th:text="${user.roles}"></td>-->
<!--                        <td><a href="#" th:href="@{/admin/editUser(id=${user.id})}" class="btn-edit">Edit</a></td>-->
<!--                        <td><a href="#" th:href="@{/admin/deleteUser(id=${user.id})}" class="btn-delete">Delete</a></td>-->
<!--                    </tr>-->
<!--                    </tbody>-->
<!--                </table>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div id="new-user-form" class="form-container border m-0">-->
<!--            <div class="container-fluid mt-4">-->
<!--                <h2 class="table-header1 ms-auto">Add new user</h2>-->
<!--                <div class="col-md-4 offset-md-0 mx-auto">-->
<!--                    <form action="/admin/saveUser" method="post">-->
<!--                        <div class="mb-3 text-center"><label for="name" class="form-label fw-bold">Name</label><input type="text" class="form-control" id="name" name="name" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="surname" class="form-label fw-bold">Surname</label><input type="text" class="form-control" id="surname" name="surname" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="age" class="form-label fw-bold">Age</label><input type="number" class="form-control" id="age" name="age" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="email" class="form-label fw-bold">Email</label><input type="email" class="form-control" id="email" name="email" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="password" class="form-label fw-bold">Password</label><input type="password" class="form-control" id="password" name="password" required/></div>-->
<!--                        <div class="mb-3 text-center"><button type="submit" class="btn btn-primary text-bg-success">Add new user</button></div>-->
<!--                    </form>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>-->
<!--<script>-->
<!--    document.getElementById('users-tab').addEventListener('click', function() {-->
<!--        document.getElementById('users-table').style.display = 'block';-->
<!--        document.getElementById('new-user-form').style.display = 'none';-->
<!--        this.classList.add('active', 'border');-->
<!--        document.getElementById('new-user-tab').classList.remove('active', 'border');-->
<!--    });-->

<!--    document.getElementById('new-user-tab').addEventListener('click', function() {-->
<!--        document.getElementById('users-table').style.display = 'none';-->
<!--        document.getElementById('new-user-form').style.display = 'block';-->
<!--        this.classList.add('active', 'border');-->
<!--        document.getElementById('users-tab').classList.remove('active', 'border');-->
<!--    });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->











<!--<!DOCTYPE html>-->
<!--<html lang="ru" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">-->
<!--    <title>Admin Panel</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        .navbar-custom { background-color: black; color: white; padding: 10px; }-->
<!--        .sidebar { background-color: #f8f9fa; height: 100vh; width: 16.66%; padding: 20px; }-->
<!--        .nav-tabs .nav-link { border: none; color: black; }-->
<!--        .nav-tabs .nav-link.active { color: gray; }-->
<!--        .table-header { color: black; padding: 10px; font-size: 36px; }-->
<!--        .table-header1 { color: black; padding: 10px; font-size: 24px; margin-left: 0; }-->
<!--        .btn-edit { background-color: #17a2b8; color: white; border-radius: 5px; padding: 5px 10px; border: none; }-->
<!--        .btn-delete { background-color: #dc3545; color: white; border-radius: 5px; padding: 5px 10px; border: none; }-->
<!--        .form-container { display: none; margin-top: 20px; }-->
<!--        .list-group-item.active { background-color: lightblue; color: navy; }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<nav class="navbar navbar-custom justify-content-start">-->
<!--    <div class="d-flex">-->
<!--        <strong><span th:if="${currentUser != null}" th:text="${currentUser.email}"></span></strong>-->
<!--        <span th:if="${currentUser != null}"> with roles: </span>-->
<!--        <span th:if="${currentUser != null}">-->
<!--            <span th:each="role, iterStat : ${currentUser.roles}">-->
<!--                <span th:text="${role.name}"></span>-->
<!--                <span th:unless="${iterStat.last}">, </span>-->
<!--            </span>-->
<!--        </span>-->
<!--    </div>-->
<!--    <a class="logout-link ms-auto" href="/logout" style="color: white;">Logout</a>-->
<!--</nav>-->

<!--<div class="d-flex">-->
<!--    <div class="sidebar p-0">-->
<!--        <span class="d-block p-2 text-bg-primary flex-fill">Admin</span>-->
<!--        <a href="/user" class="d-block p-2 text-bg-light flex-fill">User</a>-->
<!--    </div>-->

<!--    <div class="flex-grow-1 p-4">-->
<!--        <h1 class="table-header">Admin Panel</h1>-->
<!--        <ul class="nav nav-tabs">-->
<!--            <li class="nav-item"><a class="nav-link active border" href="#" id="users-tab">Users Table</a></li>-->
<!--            <li class="nav-item"><a class="nav-link active" href="#" id="new-user-tab">New User</a></li>-->
<!--        </ul>-->

<!--        <div id="users-table" class="border">-->
<!--            <div class="table-header1 border-bottom bg-light">All users</div>-->
<!--            <div class="p-4">-->
<!--                <table class="table table-striped border-top">-->
<!--                    <thead>-->
<!--                    <tr><th>ID</th><th>Name</th><th>Surname</th><th>Age</th><th>Email</th><th>Role</th><th>Edit</th><th>Delete</th></tr>-->
<!--                    </thead>-->
<!--                    <tbody>-->
<!--                    <tr th:each="user : ${allUser}">-->
<!--                        <td th:text="${user.id}"></td>-->
<!--                        <td th:text="${user.name}"></td>-->
<!--                        <td th:text="${user.surname}"></td>-->
<!--                        <td th:text="${user.age}"></td>-->
<!--                        <td th:text="${user.email}"></td>-->
<!--                        <td th:text="${user.roles}"></td>-->
<!--                        <td><a href="#" th:href="@{/admin/editUser(id=${user.id})}" class="btn-edit">Edit</a></td>-->
<!--                        <td><a href="#" th:href="@{/admin/deleteUser(id=${user.id})}" class="btn-delete">Delete</a></td>-->
<!--                    </tr>-->
<!--                    </tbody>-->
<!--                </table>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div id="new-user-form" class="form-container border m-0">-->
<!--            <div class="container-fluid mt-4">-->
<!--                <h2 class="table-header1 ms-auto">Add new user</h2>-->
<!--                <div class="col-md-4 offset-md-0 mx-auto">-->
<!--                    <form action="/admin/saveUser" method="post">-->
<!--                        <div class="mb-3 text-center"><label for="name" class="form-label fw-bold">First name</label><input type="text" class="form-control" id="name" name="name" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="surname" class="form-label fw-bold">Last name</label><input type="text" class="form-control" id="surname" name="surname" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="age" class="form-label fw-bold">Age</label><input type="number" class="form-control" id="age" name="age" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="email" class="form-label fw-bold">Email</label><input type="email" class="form-control" id="email" name="email" required/></div>-->
<!--                        <div class="mb-3 text-center"><label for="password" class="form-label fw-bold">Password</label><input type="password" class="form-control" id="password" name="password" required/></div>-->
<!--                        <div class="mb-3 text-center"><button type="submit" class="btn btn-primary text-bg-success">Add new user</button></div>-->
<!--                    </form>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>-->
<!--<script>-->
<!--    document.getElementById('users-tab').addEventListener('click', function() {-->
<!--        document.getElementById('users-table').style.display = 'block';-->
<!--        document.getElementById('new-user-form').style.display = 'none';-->
<!--        this.classList.add('active', 'border');-->
<!--        document.getElementById('new-user-tab').classList.remove('active', 'border');-->
<!--    });-->

<!--    document.getElementById('new-user-tab').addEventListener('click', function() {-->
<!--        document.getElementById('users-table').style.display = 'none';-->
<!--        document.getElementById('new-user-form').style.display = 'block';-->
<!--        this.classList.add('active', 'border');-->
<!--        document.getElementById('users-tab').classList.remove('active', 'border');-->
<!--    });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->







<!--<!DOCTYPE html>-->
<!--<html lang="ru" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">-->
<!--    <title>Admin Panel</title>-->
<!--    &lt;!&ndash; Подключаем Bootstrap CSS &ndash;&gt;-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"-->
<!--          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">-->
<!--    <style>-->
<!--        /* Стили для чёрной полосы вверху */-->
<!--        .navbar-custom {-->
<!--            background-color: black;-->
<!--            color: white;-->
<!--            padding: 10px;-->
<!--        }-->

<!--        /* Стили для бокового меню */-->
<!--        .sidebar {-->
<!--            background-color: #f8f9fa;-->
<!--            height: 100vh;-->
<!--            width: 16.66%; /* 1/6 часть ширины страницы */-->
<!--            padding: 20px;-->
<!--        }-->

<!--        /* Стили для вкладок */-->
<!--        .nav-tabs .nav-link {-->
<!--            border: none;-->
<!--            color: black;-->
<!--        }-->

<!--        .nav-tabs .nav-link.active {-->
<!--            color: gray;-->
<!--        }-->

<!--        /* Стили для заголовка страницы */-->
<!--        .table-header {-->
<!--            color: black;-->
<!--            padding: 10px;-->
<!--            font-size: 36px;-->
<!--        }-->

<!--        /* Стили для заголовка таблицы */-->
<!--        .table-header1 {-->
<!--            color: black;-->
<!--            padding: 10px;-->
<!--            font-size: 24px;-->
<!--            margin-left: 0;-->
<!--        }-->

<!--        /* Стили для кнопок Edit и Delete */-->
<!--        .btn-edit {-->
<!--            background-color: #17a2b8; /* Бирюзовый */-->
<!--            color: white;-->
<!--            border-radius: 5px;-->
<!--            padding: 5px 10px;-->
<!--            border: none;-->
<!--        }-->

<!--        .btn-delete {-->
<!--            background-color: #dc3545; /* Красный */-->
<!--            color: white;-->
<!--            border-radius: 5px;-->
<!--            padding: 5px 10px;-->
<!--            border: none;-->
<!--        }-->

<!--        /* Стили для формы добавления нового пользователя */-->
<!--        .form-container {-->
<!--            display: none;-->
<!--            margin-top: 20px;-->
<!--        }-->

<!--        /* Для выбора ролей */-->
<!--        .list-group-item.active {-->
<!--            background-color: lightblue;-->
<!--            color: navy;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--&lt;!&ndash; Чёрная полоса вверху &ndash;&gt;-->
<!--<nav class="navbar navbar-custom justify-content-start">-->
<!--    <div class="d-flex">-->
<!--        <strong><span th:if="${currentUser != null}" th:text="${currentUser.email}"></span></strong>-->
<!--         -->
<!--        <span th:if="${currentUser != null}"> with roles: </span>-->
<!--         -->
<!--        <span th:if="${currentUser != null}">-->
<!--            <span th:each="role, iterStat : ${currentUser.roles}">-->
<!--                <span th:text="${role.name}"></span>-->
<!--                <span th:unless="${iterStat.last}">, </span>-->
<!--            </span>-->
<!--        </span>-->
<!--    </div>-->
<!--    <a class="logout-link ms-auto" th:href="@{/logout}" style="color: white;">Logout</a>-->
<!--</nav>-->

<!--<div class="d-flex">-->
<!--    &lt;!&ndash; Боковое меню &ndash;&gt;-->
<!--    <div class="sidebar p-0">-->
<!--        &lt;!&ndash; Кнопка Admin  &ndash;&gt;-->
<!--        <span class="d-block p-2 text-bg-primary flex-fill">Admin</span>-->
<!--        &lt;!&ndash; Ссылка на страницу пользователя &ndash;&gt;-->
<!--        <a href="/user" class="d-block p-2 text-bg-light flex-fill">User</a>-->
<!--    </div>-->

<!--    &lt;!&ndash; Основной контент &ndash;&gt;-->
<!--    <div class="flex-grow-1 p-4">-->
<!--        &lt;!&ndash; Заголовок и вкладки &ndash;&gt;-->
<!--        <h1 class="table-header">Admin Panel</h1>-->
<!--        <ul class="nav nav-tabs">-->
<!--            <li class="nav-item">-->
<!--                <a class="nav-link active border" href="#" id="users-tab">Users Table</a>-->
<!--            </li>-->
<!--            <li class="nav-item">-->
<!--                <a class="nav-link active" href="#" id="new-user-tab">New User</a>-->
<!--            </li>-->
<!--        </ul>-->

<!--        &lt;!&ndash; Блок с таблицей пользователей &ndash;&gt;-->
<!--        <div id="users-table" class="border">-->
<!--            &lt;!&ndash; Заголовок таблицы &ndash;&gt;-->
<!--            <div class="table-header1 border-bottom bg-light">All users</div>-->
<!--            &lt;!&ndash; Таблица &ndash;&gt;-->
<!--            <div class="p-4">-->
<!--                <table class="table table-striped border-top">-->
<!--                    <thead>-->
<!--                    <tr>-->
<!--                        <th>ID</th>-->
<!--                        <th>First Name</th>-->
<!--                        <th>Last Name</th>-->
<!--                        <th>Age</th>-->
<!--                        <th>Email</th>-->
<!--                        <th>Role</th>-->
<!--                        <th>Edit</th>-->
<!--                        <th>Delete</th>-->
<!--                    </tr>-->
<!--                    </thead>-->
<!--                    <tbody>-->
<!--                    <tr th:each="user : ${allUser}">-->
<!--                        <td th:text="${user.id}"></td>-->
<!--                        <td th:text="${user.name}"></td>-->
<!--                        <td th:text="${user.surname}"></td>-->
<!--                        <td th:text="${user.age}"></td>-->
<!--                        <td th:text="${user.email}"></td>-->
<!--                        <td>-->
<!--            <span th:each="role, iterStat : ${user.roles}">-->
<!--                <span th:text="${role.name}"></span>-->
<!--                <span th:unless="${iterStat.last}">, </span>-->
<!--            </span>-->
<!--                        </td>-->
<!--                        <td>-->
<!--                            <a href="#" class="btn-edit" th:attr="data-user-id=${user.id}">Edit</a>-->
<!--                        </td>-->
<!--                        <td>-->
<!--                            <a href="#" class="btn-delete" th:attr="data-user-id=${user.id}">Delete</a>-->
<!--                        </td>-->
<!--                    </tr>-->
<!--                    </tbody>-->
<!--                </table>-->
<!--            </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; Блок с формой добавления нового пользователя &ndash;&gt;-->
<!--        <div id="new-user-form" class="form-container border m-0">-->
<!--            <div class="container-fluid mt-4">-->
<!--                <div class="row">-->
<!--                    <h2 class="table-header1 ms-auto">Add new user</h2>-->
<!--                    <div class="col-md-4 offset-md-0 mx-auto">-->

<!--                        <form action="#" th:action="@{/admin/registration}" method="post" th:object="${newUser}"-->
<!--                              class="mx-auto">-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="name" class="form-label fw-bold">First name</label>-->
<!--                                <input type="text" class="form-control" id="name" th:field="*{name}" required/>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="lastName" class="form-label fw-bold">Last name</label>-->
<!--                                <input type="text" class="form-control" id="lastName" th:field="*{lastName}" required/>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="age" class="form-label fw-bold">Age</label>-->
<!--                                <input type="number" class="form-control" id="age" th:field="*{age}" min="0" max="127"-->
<!--                                       required/>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="username" class="form-label fw-bold">User name</label>-->
<!--                                <input type="text" class="form-control" id="username" th:field="*{username}" required/>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="password" class="form-label fw-bold">Password</label>-->
<!--                                <input type="password" class="form-control" id="password" th:field="*{password}" min="5"-->
<!--                                       required/>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="email" class="form-label fw-bold">Email</label>-->
<!--                                <input type="email" class="form-control" id="email" th:field="*{email}" required/>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <span class="fw-bold">Role</span>-->
<!--                                <ul class="list-group list-group-flush" id="role-list">-->
<!--                                    <li class="list-group-item" th:each="role : ${allRoles}"-->
<!--                                        th:id="'role-' + ${role.id}"-->
<!--                                        th:text="${role.name}"-->
<!--                                        th:attr="data-role-id=${role.id}"-->
<!--                                        onclick="toggleRoleSelection(this);"></li>-->
<!--                                </ul>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <button type="submit" class="btn btn-primary text-bg-success">Add new user</button>-->
<!--                            </div>-->
<!--                        </form>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; Модальное окно для редактирования пользователя &ndash;&gt;-->
<!--        <div class="modal fade" id="editUserModal" tabindex="-1" aria-labelledby="editUserModalLabel"-->
<!--             aria-hidden="true">-->
<!--            <div class="modal-dialog">-->
<!--                <div class="modal-content">-->
<!--                    <div class="modal-header">-->
<!--                        <h5 class="modal-title" id="editUserModalLabel">Edit user</h5>-->
<!--                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>-->
<!--                    </div>-->
<!--                    <div class="modal-body">-->
<!--                        <form id="editUserForm" method="post">-->
<!--                            <input type="text" hidden id="hiddenEditUserId" name="user.hidden">-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="editUserId" class="form-label fw-bold">ID</label>-->
<!--                                <input type="text" class="form-control ui-state-disabled" id="editUserId" name="user.id"-->
<!--                                       disabled>-->
<!--                            </div>-->

<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="editName" class="form-label fw-bold">First Name</label>-->
<!--                                <input type="text" class="form-control" id="editName" name="user.name" required>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="editLastName" class="form-label fw-bold">Last Name</label>-->
<!--                                <input type="text" class="form-control" id="editLastName" name="user.lastName" required>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="editAge" class="form-label fw-bold">Age</label>-->
<!--                                <input type="number" class="form-control" id="editAge" name="user.age" min="0" max="127"-->
<!--                                       required>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="editEmail" class="form-label fw-bold">Email</label>-->
<!--                                <input type="email" class="form-control" id="editEmail" name="user.email" required>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="editUsername" class="form-label fw-bold">Username</label>-->
<!--                                <input type="text" class="form-control" id="editUsername" name="user.username" required>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="editPassword" class="form-label fw-bold">Password</label>-->
<!--                                <input type="password" class="form-control" id="editPassword" name="user.password">-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <span class="fw-bold">Role</span>-->
<!--                                <ul class="list-group list-group-flush" id="edit-role-list">-->
<!--                                    <li class="list-group-item" th:each="role : ${allRoles}"-->
<!--                                        th:id="'role-' + ${role.id}"-->
<!--                                        th:text="${role.name}"-->
<!--                                        th:attr="data-role-id=${role.id}"-->
<!--                                        onclick="toggleRoleSelection(this);"></li>-->
<!--                                </ul>-->
<!--                            </div>-->
<!--                        </form>-->
<!--                    </div>-->
<!--                    <div class="modal-footer">-->
<!--                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>-->
<!--                        <button type="button" class="btn btn-primary" onclick="submitEditForm()">Edit</button>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        &lt;!&ndash; Модальное окно для удаления пользователя &ndash;&gt;-->
<!--        <div class="modal fade" id="deleteUserModal" tabindex="-1" aria-labelledby="deleteUserModalLabel"-->
<!--             aria-hidden="true">-->
<!--            <div class="modal-dialog">-->
<!--                <div class="modal-content">-->
<!--                    <div class="modal-header">-->
<!--                        <h5 class="modal-title" id="deleteUserModalLabel">Delete user</h5>-->
<!--                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>-->
<!--                    </div>-->
<!--                    <div class="modal-body">-->
<!--                        <form id="deleteUserForm" method="post">-->
<!--                            <input type="text" hidden id="hiddenDeleteUserId" name="user.hidden">-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="deleteUserId" class="form-label fw-bold">ID</label>-->
<!--                                <input type="text" class="form-control" id="deleteUserId" name="id" disabled>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="deleteName" class="form-label fw-bold">First Name</label>-->
<!--                                <input type="text" class="form-control" id="deleteName" name="user.name" disabled>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="deleteLastName" class="form-label fw-bold">Last Name</label>-->
<!--                                <input type="text" class="form-control" id="deleteLastName" name="user.lastName"-->
<!--                                       disabled>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="deleteAge" class="form-label fw-bold">Age</label>-->
<!--                                <input type="number" class="form-control" id="deleteAge" name="user.age" min="0"-->
<!--                                       max="127"-->
<!--                                       disabled>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="deleteEmail" class="form-label fw-bold">Email</label>-->
<!--                                <input type="email" class="form-control" id="deleteEmail" name="user.email" disabled>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label for="deleteUsername" class="form-label fw-bold">Username</label>-->
<!--                                <input type="text" class="form-control" id="deleteUsername" name="user.username"-->
<!--                                       disabled>-->
<!--                            </div>-->
<!--                            <div class="mb-3 text-center">-->
<!--                                <label class="form-label fw-bold">Role</label>-->
<!--                                <div id="deleteRoles">-->
<!--                                    &lt;!&ndash; Роли будут добавлены динамически &ndash;&gt;-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </form>-->
<!--                    </div>-->
<!--                    <div class="modal-footer">-->
<!--                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>-->
<!--                        <button type="button" class="btn btn-primary" onclick="submitDeleteForm()">Delete</button>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--    </div>-->
<!--</div>-->

<!--&lt;!&ndash; Подключаем Bootstrap JS и зависимости &ndash;&gt;-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"-->
<!--        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"-->
<!--        crossorigin="anonymous">-->
<!--</script>-->

<!--<script>-->
<!--    // JavaScript для переключения между таблицей и формой-->
<!--    document.getElementById('users-tab').addEventListener('click', function() {-->
<!--        document.getElementById('users-table').style.display = 'block';-->
<!--        document.getElementById('new-user-form').style.display = 'none';-->

<!--        // Управление классами вкладок-->
<!--        this.classList.add('active');       // Активируем текущую вкладку-->
<!--        this.classList.add('border');       // Добавляем бордюр к текущей вкладке-->

<!--        const otherTab = document.getElementById('new-user-tab');-->
<!--        otherTab.classList.remove('active');   // Деактивируем другую вкладку-->
<!--        otherTab.classList.remove('border');   // Убираем бордюр у другой вкладки-->
<!--    });-->

<!--    document.getElementById('new-user-tab').addEventListener('click', function() {-->
<!--        document.getElementById('users-table').style.display = 'none';-->
<!--        document.getElementById('new-user-form').style.display = 'block';-->

<!--        // Управление классами вкладок-->
<!--        this.classList.add('active');           // Активируем текущую вкладку-->
<!--        this.classList.add('border');           // Добавляем бордюр к текущей вкладке-->

<!--        const otherTab = document.getElementById('users-tab');-->
<!--        otherTab.classList.remove('active');     // Деактивируем другую вкладку-->
<!--        otherTab.classList.remove('border');     // Убираем бордюр у другой вкладки-->
<!--    });-->
<!--</script>-->
<!--<script>-->
<!--    // Регистрация нового юзера-->
<!--    // Функция для переключения выделения роли-->
<!--    function toggleRoleSelection(element) {-->
<!--        // Переключаем класс active-->
<!--        element.classList.toggle('active');-->
<!--    }-->

<!--    // Обработчик отправки формы-->
<!--    document.querySelector('form').addEventListener('submit', function(event) {-->
<!--        // Собираем все выбранные роли-->
<!--        const selectedRoles = [];-->
<!--        document.querySelectorAll('#role-list .list-group-item.active').forEach(item => {-->
<!--            selectedRoles.push(item.dataset.roleId);-->
<!--        });-->

<!--        // Создаем скрытое поле для каждой выбранной роли-->
<!--        selectedRoles.forEach(roleId => {-->
<!--            const hiddenInput = document.createElement('input');-->
<!--            hiddenInput.type = 'hidden';-->
<!--            hiddenInput.name = 'selectedRoles';-->
<!--            hiddenInput.value = roleId;-->
<!--            document.getElementById('role-list').appendChild(hiddenInput);-->
<!--        });-->
<!--    });-->
<!--</script>-->
<!--<script>-->
<!--    // Функция для открытия модального окна редактирования и заполнения его данными пользователя-->
<!--    function openEditModal(user, roles) {-->
<!--// Заполняем форму данными пользователя-->
<!--        document.getElementById('hiddenEditUserId').value = user.id;-->
<!--        document.getElementById('editUserId').value = user.id;-->
<!--        document.getElementById('editName').value = user.name;-->
<!--        document.getElementById('editLastName').value = user.lastName;-->
<!--        document.getElementById('editAge').value = user.age;-->
<!--        document.getElementById('editEmail').value = user.email;-->
<!--        document.getElementById('editUsername').value = user.username;-->

<!--// Открываем модальное окно-->
<!--        const modal = new bootstrap.Modal(document.getElementById('editUserModal'));-->
<!--        modal.show();-->
<!--    }-->

<!--    // Обработчик клика по кнопке Edit-->
<!--    document.querySelectorAll('.btn-edit').forEach(function (button) {-->
<!--        button.addEventListener('click', function (event) {-->
<!--            event.preventDefault();-->
<!--            const userId = button.getAttribute('data-user-id'); // Получаем ID из data-user-id-->
<!--            fetch(`/admin/${userId}/edit`) // Используем новый метод контроллера-->
<!--                .then(response => response.json()) // Преобразуем ответ в JSON-->
<!--                .then(data => openEditModal(data.user, data.roles)) // Передаем данные в openEditModal-->
<!--                .catch(error => console.error('Error fetching user data:', error));-->
<!--        });-->
<!--    });-->
<!--</script>-->
<!--<script>-->
<!--    // Функция для открытия модального окна удаления и заполнения его данными пользователя-->
<!--    function openDeleteModal(user, roles) {-->

<!--        document.getElementById('hiddenDeleteUserId').value = user.id;-->
<!--        document.getElementById('deleteUserId').value = user.id;-->
<!--        document.getElementById('deleteName').value = user.name;-->
<!--        document.getElementById('deleteLastName').value = user.lastName;-->
<!--        document.getElementById('deleteAge').value = user.age;-->
<!--        document.getElementById('deleteEmail').value = user.email;-->
<!--        document.getElementById('deleteUsername').value = user.username;-->

<!--        const rolesContainer = document.getElementById('deleteRoles');-->
<!--        rolesContainer.innerHTML = '';-->

<!--        roles.forEach(role => {-->
<!--            const roleItem = document.createElement('div');-->

<!--            roleItem.classList.add('list-group-item', 'd-flex', 'justify-content-between', 'align-items-center',-->
<!--                'list-group-item-secondary');-->

<!--            roleItem.textContent = role.name;-->
<!--            roleItem.dataset.roleId = role.id;-->
<!--            rolesContainer.appendChild(roleItem);-->

<!--        });-->

<!--        const modal = new bootstrap.Modal(document.getElementById('deleteUserModal'));-->
<!--        modal.show();-->
<!--    }-->

<!--    document.querySelectorAll('.btn-delete').forEach(function (button) {-->
<!--        button.addEventListener('click', function (event) {-->
<!--            event.preventDefault();-->
<!--            const userId = button.getAttribute('data-user-id');-->
<!--            fetch(`/admin/${userId}/edit`)-->
<!--                .then(response => response.json())-->
<!--                .then(data => openDeleteModal(data.user, data.roles))-->
<!--                .catch(error => console.error('Error fetching user data:', error));-->
<!--        });-->
<!--    });-->
<!--</script>-->

<!--<script>-->
<!--    // Функция для отправки формы редактирования пользователя-->
<!--    function submitEditForm() {-->
<!--        const formData = new FormData(document.getElementById('editUserForm'));-->
<!--        const userId = formData.get('user.hidden');-->

<!--        const user = {-->
<!--            name: formData.get('user.name'),-->
<!--            lastName: formData.get('user.lastName'),-->
<!--            age: formData.get('user.age'),-->
<!--            email: formData.get('user.email'),-->
<!--            username: formData.get('user.username'),-->
<!--            password: formData.get('user.password')-->
<!--        };-->

<!--        const roleItems = document.querySelectorAll('#edit-role-list .list-group-item.active');-->
<!--        const roleIds = [];-->

<!--        roleItems.forEach(item => {-->
<!--            roleIds.push(parseInt(item.dataset.roleId));-->
<!--        });-->

<!--        const updateUserRequest = {-->
<!--            user: user,-->
<!--            roleIds: roleIds-->
<!--        };-->

<!--        fetch(`/admin/${userId}/update`, {-->
<!--            method: 'POST',-->
<!--            headers: {-->
<!--                'Content-Type': 'application/json'-->
<!--            },-->
<!--            body: JSON.stringify(updateUserRequest)-->
<!--        })-->
<!--            .then(response => {-->
<!--                if (!response.ok) {-->
<!--                    throw new Error(`Network response was not ok: ${response.status}`);-->
<!--                }-->
<!--                return response.text();-->
<!--            })-->
<!--            .then(data => {-->



<!--                const modal = bootstrap.Modal.getInstance(document.getElementById('editUserModal'));-->
<!--                modal.hide();-->
<!--                location.reload();-->
<!--            })-->
<!--            .catch(error => {-->
<!--                console.error('Ошибка обновления пользователя:', error);-->
<!--                alert('Произошла ошибка при обновлении пользователя.');-->
<!--            });-->
<!--    }-->
<!--</script>-->
<!--<script>-->
<!--    // Функция для отправки формы удаления пользователя-->
<!--    function submitDeleteForm() {-->
<!--        const formData = new FormData(document.getElementById('deleteUserForm'));-->
<!--        const userId = formData.get('user.hidden');-->

<!--        fetch(`/admin/${userId}/delete`, {-->
<!--            method: 'GET'-->
<!--        })-->
<!--            .then(response => {-->
<!--                if (!response.ok) {-->
<!--                    throw new Error(`Network response was not ok: ${response.status}`);-->
<!--                }-->
<!--                return response.text();-->
<!--            })-->
<!--            .then(data => {-->


<!--                const modal = bootstrap.Modal.getInstance(document.getElementById('deleteUserModal'));-->
<!--                modal.hide();-->
<!--                location.reload();-->
<!--            })-->
<!--            .catch(error => {-->
<!--                console.error('Ошибка удаления пользователя:', error);-->
<!--                alert('Произошла ошибка при удалении пользователя.');-->
<!--            });-->
<!--    }-->
<!--</script>-->
<!--</body>-->
<!--</html>-->




















<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org" lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>User Details</title>-->
<!--    <style>-->
<!--        /* Ваши текущие стили */-->

<!--        /* Стили для модальных окон */-->
<!--        .modal {-->
<!--            display: none;-->
<!--            position: fixed;-->
<!--            z-index: 1000;-->
<!--            left: 0;-->
<!--            top: 0;-->
<!--            width: 100%;-->
<!--            height: 100%;-->
<!--            background-color: rgba(0, 0, 0, 0.5);-->
<!--            backdrop-filter: blur(5px); /* Размытие фона */-->
<!--            justify-content: center;-->
<!--            align-items: center;-->
<!--        }-->

<!--        .modal-content {-->
<!--            background-color: #fff;-->
<!--            padding: 30px;-->
<!--            border-radius: 12px;-->
<!--            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);-->
<!--            width: 90%;-->
<!--            max-width: 500px;-->
<!--            animation: fadeIn 0.3s ease-in-out;-->
<!--        }-->

<!--        @keyframes fadeIn {-->
<!--            from {-->
<!--                opacity: 0;-->
<!--                transform: translateY(-20px);-->
<!--            }-->
<!--            to {-->
<!--                opacity: 1;-->
<!--                transform: translateY(0);-->
<!--            }-->
<!--        }-->

<!--        .modal-header {-->
<!--            display: flex;-->
<!--            justify-content: space-between;-->
<!--            align-items: center;-->
<!--            border-bottom: 1px solid #eee;-->
<!--            padding-bottom: 15px;-->
<!--            margin-bottom: 20px;-->
<!--        }-->

<!--        .modal-header h2 {-->
<!--            margin: 0;-->
<!--            font-size: 24px;-->
<!--            color: #333;-->
<!--        }-->

<!--        .close {-->
<!--            font-size: 24px;-->
<!--            color: #aaa;-->
<!--            cursor: pointer;-->
<!--            transition: color 0.2s;-->
<!--        }-->

<!--        .close:hover {-->
<!--            color: #333;-->
<!--        }-->

<!--        .form-group {-->
<!--            margin-bottom: 20px;-->
<!--        }-->

<!--        .form-group label {-->
<!--            display: block;-->
<!--            margin-bottom: 8px;-->
<!--            font-weight: bold;-->
<!--            color: #555;-->
<!--        }-->

<!--        .form-group input {-->
<!--            width: 100%;-->
<!--            padding: 10px;-->
<!--            border: 1px solid #ddd;-->
<!--            border-radius: 6px;-->
<!--            font-size: 16px;-->
<!--            transition: border-color 0.2s;-->
<!--        }-->

<!--        .form-group input:focus {-->
<!--            border-color: #007bff;-->
<!--            outline: none;-->
<!--        }-->

<!--        .checkbox-group {-->
<!--            display: flex;-->
<!--            align-items: center;-->
<!--            margin-bottom: 10px;-->
<!--        }-->

<!--        .checkbox-group input {-->
<!--            margin-right: 10px;-->
<!--        }-->

<!--        .modal-footer {-->
<!--            display: flex;-->
<!--            justify-content: flex-end;-->
<!--            gap: 10px;-->
<!--            margin-top: 20px;-->
<!--        }-->

<!--        .modal-footer button {-->
<!--            padding: 10px 20px;-->
<!--            border: none;-->
<!--            border-radius: 6px;-->
<!--            font-size: 16px;-->
<!--            cursor: pointer;-->
<!--            transition: background-color 0.2s;-->
<!--        }-->

<!--        .modal-footer button[type="submit"] {-->
<!--            background-color: #007bff;-->
<!--            color: white;-->
<!--        }-->

<!--        .modal-footer button[type="submit"]:hover {-->
<!--            background-color: #0056b3;-->
<!--        }-->

<!--        .modal-footer button[type="button"] {-->
<!--            background-color: #f0f0f0;-->
<!--            color: #333;-->
<!--        }-->

<!--        .modal-footer button[type="button"]:hover {-->
<!--            background-color: #ddd;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->

<!--<div class="logout-container">-->
<!--    <form th:action="@{/login}" method="post">-->
<!--        <button type="submit" class="logout-button">Выйти</button>-->
<!--    </form>-->
<!--</div>-->

<!--<div class="table-container">-->
<!--    <h2>User Details</h2>-->
<!--    <table class="table">-->
<!--        <thead>-->
<!--        <tr>-->
<!--            <th>ID</th>-->
<!--            <th>Name</th>-->
<!--            <th>Surname</th>-->
<!--            <th>Age</th>-->
<!--            <th>Email</th>-->
<!--            <th>Role</th>-->
<!--            <th>Operations</th>-->
<!--        </tr>-->
<!--        </thead>-->
<!--        <tbody>-->
<!--        <tr th:each="allUser : ${allUser}">-->
<!--            <td th:text="${allUser.id}"></td>-->
<!--            <td th:text="${allUser.name}"></td>-->
<!--            <td th:text="${allUser.surname}"></td>-->
<!--            <td th:text="${allUser.age}"></td>-->
<!--            <td th:text="${allUser.email}"></td>-->
<!--            <td th:text="${allUser.roles}"></td>-->
<!--            <td>-->
<!--                <div class="button-container">-->
<!--                    <input type="button" value="Update" onclick="openEditModal([[${allUser.id}]], '[[${allUser.name}]]', '[[${allUser.surname}]]', [[${allUser.age}]], '[[${allUser.email}]]', '[[${allUser.roles}]]')"/>-->
<!--                    <input type="button" value="Delete" onclick="openDeleteModal([[${allUser.id}]])"/>-->
<!--                </div>-->
<!--            </td>-->
<!--        </tr>-->
<!--        </tbody>-->
<!--    </table>-->
<!--</div>-->

<!--<input type="button" value="Add New User" onclick="window.location.href = '/admin/addNewUser'"/>-->

<!--&lt;!&ndash; Модальное окно для редактирования &ndash;&gt;-->
<!--<div id="editModal" class="modal">-->
<!--    <div class="modal-content">-->
<!--        <div class="modal-header">-->
<!--            <h2>Edit User</h2>-->
<!--            <span class="close" onclick="closeEditModal()">&times;</span>-->
<!--        </div>-->
<!--        <form id="editForm" th:action="@{/admin/editUser}" method="post" th:object="${user}">-->
<!--            <input type="hidden" id="editId" name="id" />-->
<!--            <div class="form-group">-->
<!--                <label for="editName">Name</label>-->
<!--                <input type="text" id="editName" name="name" required>-->
<!--            </div>-->
<!--            <div class="form-group">-->
<!--                <label for="editSurname">Surname</label>-->
<!--                <input type="text" id="editSurname" name="surname" required>-->
<!--            </div>-->
<!--            <div class="form-group">-->
<!--                <label for="editAge">Age</label>-->
<!--                <input type="number" id="editAge" name="age" required>-->
<!--            </div>-->
<!--            <div class="form-group">-->
<!--                <label for="editEmail">Email</label>-->
<!--                <input type="text" id="editEmail" name="email" required>-->
<!--            </div>-->
<!--            <div class="form-group">-->
<!--                <label for="editPassword">Password:</label>-->
<!--                <input type="password" id="editPassword" name="password" required>-->
<!--            </div>-->
<!--            <div class="form-group">-->
<!--                <label>Roles:</label>-->
<!--                <div class="checkbox-group">-->
<!--                    <input type="checkbox" id="editRoleUser" name="roles" value="ROLE_USER">-->
<!--                    <label for="editRoleUser">User</label>-->
<!--                </div>-->
<!--                <div class="checkbox-group">-->
<!--                    <input type="checkbox" id="editRoleAdmin" name="roles" value="ROLE_ADMIN">-->
<!--                    <label for="editRoleAdmin">Admin</label>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="modal-footer">-->
<!--                <button type="submit">Save</button>-->
<!--                <button type="button" onclick="closeEditModal()">Cancel</button>-->
<!--            </div>-->
<!--        </form>-->
<!--    </div>-->
<!--</div>-->

<!--&lt;!&ndash; Модальное окно для удаления &ndash;&gt;-->
<!--<div id="deleteModal" class="modal">-->
<!--    <div class="modal-content">-->
<!--        <div class="modal-header">-->
<!--            <h2>Delete User</h2>-->
<!--            <span class="close" onclick="closeDeleteModal()">&times;</span>-->
<!--        </div>-->
<!--        <p>Are you sure you want to delete this user?</p>-->
<!--        <form id="deleteForm" th:action="@{/admin/deleteUser}" method="post">-->
<!--            <input type="hidden" id="deleteId" name="id" />-->
<!--            <div class="modal-footer">-->
<!--                <button type="submit">Yes, Delete</button>-->
<!--                <button type="button" onclick="closeDeleteModal()">Cancel</button>-->
<!--            </div>-->
<!--        </form>-->
<!--    </div>-->
<!--</div>-->

<!--<script>-->
<!--    // Функции для открытия и закрытия модальных окон-->
<!--    function openEditModal(id, name, surname, age, email, roles) {-->
<!--        document.getElementById('editId').value = id;-->
<!--        document.getElementById('editName').value = name;-->
<!--        document.getElementById('editSurname').value = surname;-->
<!--        document.getElementById('editAge').value = age;-->
<!--        document.getElementById('editEmail').value = email;-->
<!--        document.getElementById('editForm').action = '/admin/editUser/' + id;-->

<!--        // Установка ролей-->
<!--        document.getElementById('editRoleUser').checked = roles.includes('ROLE_USER');-->
<!--        document.getElementById('editRoleAdmin').checked = roles.includes('ROLE_ADMIN');-->

<!--        document.getElementById('editModal').style.display = 'flex';-->
<!--    }-->

<!--    function closeEditModal() {-->
<!--        document.getElementById('editModal').style.display = 'none';-->
<!--    }-->

<!--    function openDeleteModal(id) {-->
<!--        document.getElementById('deleteId').value = id;-->
<!--        document.getElementById('deleteForm').action = '/admin/deleteUser/' + id;-->
<!--        document.getElementById('deleteModal').style.display = 'flex';-->
<!--    }-->

<!--    function closeDeleteModal() {-->
<!--        document.getElementById('deleteModal').style.display = 'none';-->
<!--    }-->

<!--    // Закрытие модальных окон при клике вне их области-->
<!--    window.onclick = function(event) {-->
<!--        if (event.target.classList.contains('modal')) {-->
<!--            event.target.style.display = 'none';-->
<!--        }-->
<!--    }-->
<!--</script>-->

<!--</body>-->
<!--</html>-->